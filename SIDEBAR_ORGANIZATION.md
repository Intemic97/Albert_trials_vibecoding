# Sidebar Copilots - OrganizaciÃ³n Final

## ğŸ¨ Estructura Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WORKSPACE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ â–¼ Tus chats (15)           [+] â”‚
â”‚   ğŸ” Search chats...            â”‚
â”‚   â­ Favorites  #tag1  #tag2    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   ğŸ’¬ AnÃ¡lisis producciÃ³n Q1     â”‚
â”‚   ğŸ’¬ OptimizaciÃ³n refinerÃ­a     â”‚
â”‚   ğŸ’¬ Seguridad planta           â”‚
â”‚   ...                           â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚ â–¼ Agentes (3)              [+] â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   ğŸ­ Agente ProducciÃ³n     âš™ï¸  â”‚
â”‚      ProducciÃ³n industrial      â”‚
â”‚                                 â”‚
â”‚   ğŸ· Agente DistribuciÃ³n   âš™ï¸  â”‚
â”‚      EnologÃ­a y cosecha         â”‚
â”‚                                 â”‚
â”‚   ğŸ’° Agente Finanzas       âš™ï¸  â”‚
â”‚      AnÃ¡lisis financiero        â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Interacciones

### SecciÃ³n "Tus chats"
- **Toggle** (â–¼/â–º): colapsar/expandir lista
- **[+]** inline: abre modal de nuevo chat
- **ğŸ” Search**: filtra chats por nombre
- **â­ Favorites** / **#tags**: filtros rÃ¡pidos
- **Click en chat**: abre conversaciÃ³n

### SecciÃ³n "Agentes"
- **Toggle** (â–¼/â–º): colapsar/expandir lista
- **[+]** inline: abre workflow de nuevo agente (4 pasos)
- **Click en card**: abre librerÃ­a de agentes (vista completa)
- **âš™ï¸ Config**: abre modal de configuraciÃ³n (5 tabs)

---

## ğŸ¯ Workflow: Nuevo Agente

### Paso 1: InformaciÃ³n bÃ¡sica
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ¤–] â† input emoji 2 chars       â”‚
â”‚                                  â”‚
â”‚ Nombre:                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Agente ProducciÃ³n            â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                  â”‚
â”‚ DescripciÃ³n:                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Especializado en producciÃ³n  â”‚â”‚
â”‚ â”‚ industrial, seguridad y...   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                  â”‚
â”‚ [Cancelar]      [â€¢â€¢â€¢â—‹]  [Siguiente â†’]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ValidaciÃ³n**: nombre no vacÃ­o

---

### Paso 2: Instrucciones y contexto
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instrucciones base:              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Eres un experto en plantas   â”‚â”‚
â”‚ â”‚ industriales. Tu objetivo es â”‚â”‚
â”‚ â”‚ ayudar con:                  â”‚â”‚
â”‚ â”‚ - AnÃ¡lisis de mÃ©tricas       â”‚â”‚
â”‚ â”‚ - OptimizaciÃ³n de procesos   â”‚â”‚
â”‚ â”‚ - InterpretaciÃ³n de datos    â”‚â”‚
â”‚ â”‚                              â”‚â”‚
â”‚ â”‚ Prioriza siempre la seguridadâ”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                  â”‚
â”‚ â„¹ï¸ Estas instrucciones se usarÃ¡nâ”‚
â”‚    como base para todas las      â”‚
â”‚    conversaciones.               â”‚
â”‚                                  â”‚
â”‚ [â† AtrÃ¡s]      [â€¢â—â€¢â—‹]  [Siguiente â†’]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ValidaciÃ³n**: ninguna (opcional)

---

### Paso 3: Acceso a datos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ—„ï¸ Entidades permitidas (5)     â”‚
â”‚                                  â”‚
â”‚ [Seleccionar todas]              â”‚
â”‚                                  â”‚
â”‚ â˜‘ï¸ ğŸ—„ï¸ Plantas                   â”‚
â”‚    15 campos                     â”‚
â”‚                                  â”‚
â”‚ â˜‘ï¸ ğŸ—„ï¸ ProducciÃ³n                â”‚
â”‚    MÃ©tricas de output            â”‚
â”‚    23 campos                     â”‚
â”‚                                  â”‚
â”‚ â˜ ğŸ—„ï¸ Seguridad                  â”‚
â”‚    Registro de incidentes        â”‚
â”‚    12 campos                     â”‚
â”‚                                  â”‚
â”‚ ...                              â”‚
â”‚                                  â”‚
â”‚ [â† AtrÃ¡s]      [â€¢â—â—â—‹]  [Siguiente â†’]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features**:
- Select/deselect all
- Preview: nombre, descripciÃ³n, # campos
- Scroll si hay muchas entidades

---

### Paso 4: Base de conocimiento
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Carpetas de conocimiento (2)  â”‚
â”‚                                  â”‚
â”‚ â˜‘ï¸ ğŸ“ Manuales tÃ©cnicos          â”‚
â”‚                                  â”‚
â”‚ â˜‘ï¸ ğŸ“ Normativa ISO              â”‚
â”‚                                  â”‚
â”‚ â˜ ğŸ“ Procedimientos internos     â”‚
â”‚                                  â”‚
â”‚ ...                              â”‚
â”‚                                  â”‚
â”‚ â„¹ï¸ Los documentos de estas       â”‚
â”‚    carpetas estarÃ¡n disponibles  â”‚
â”‚    para el agente.               â”‚
â”‚                                  â”‚
â”‚ [â† AtrÃ¡s]      [â€¢â€¢â€¢â€¢]  [âœ“ Crear Agente]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features**:
- Multi-select carpetas
- Preview: nombre
- BotÃ³n final: "Crear Agente" (con loading)

---

## ğŸ¨ Estados de UI

### Toggle Cerrado
```
â–º Tus chats (15)           [+]
```

### Toggle Abierto
```
â–¼ Tus chats (15)           [+]
  ğŸ” Search chats...
  â­ Favorites  #tag1  #tag2
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ’¬ Chat 1
  ğŸ’¬ Chat 2
  ...
```

### Agente Card (Hover)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ­  Agente ProducciÃ³n  [âš™ï¸] â”‚ â† gear visible on hover
â”‚     ProducciÃ³n industrial   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Estado VacÃ­o (Agentes)
```
â–¼ Agentes (0)              [+]
  
  No hay agentes creados.
  
  [Crear primer agente]
```

---

## ğŸ”— Flujos de NavegaciÃ³n

### Crear Chat con Agente
1. Click [+] en "Tus chats"
2. Modal: llenar nombre, instrucciones
3. SecciÃ³n "Agente Especializado"
4. Click "Seleccionar agente de la librerÃ­a"
5. LibrerÃ­a modal â†’ grid de agentes
6. Click "Usar" en agente â†’ asignado
7. Badge verde muestra agente seleccionado
8. Click "Create Copilot"

### Crear Nuevo Agente
1. Click [+] en "Agentes"
2. Workflow 4 pasos:
   - Paso 1: InformaciÃ³n bÃ¡sica
   - Paso 2: Instrucciones
   - Paso 3: Entidades
   - Paso 4: Knowledge
3. Progress bar visual (â€¢â€¢â€¢â—‹)
4. Click "Crear Agente"
5. Agente aparece en lista

### Configurar Agente Existente
1. Hover sobre agente en lista
2. Click [âš™ï¸] config
3. `AgentConfigModal` (5 tabs):
   - General
   - Orchestrator
   - Analyst
   - Specialist
   - Synthesis
4. Editar prompts
5. Guardar

### Ver Todos los Agentes
1. Click en cualquier card de agente
2. Abre `AgentLibrary` (modal fullscreen)
3. Grid completo de agentes
4. Acciones: Usar, Configurar, Eliminar

---

## ğŸ“ Especificaciones TÃ©cnicas

### Componentes Nuevos
- `NewAgentWorkflow.tsx`: wizard de 4 pasos
- SecciÃ³n toggle "Tus chats" en sidebar
- SecciÃ³n toggle "Agentes" en sidebar

### Estado Compartido
```tsx
const [showChatsSection, setShowChatsSection] = useState(true);
const [showAgentsSection, setShowAgentsSection] = useState(true);
const [showNewAgentModal, setShowNewAgentModal] = useState(false);
const [showAgentConfig, setShowAgentConfig] = useState(false);
const [editingAgentId, setEditingAgentId] = useState<string | null>(null);
```

### Iconos Usados
- `CaretDown` / `CaretRight`: toggles
- `Plus`: crear nuevo (inline)
- `Robot`: agentes
- `Sparkle`: nuevo chat
- `GearSix`: configurar
- `Database`: entidades
- `Folder`: knowledge
- `ArrowLeft` / `ArrowRight`: navegaciÃ³n wizard
- `Check`: completado
- `SpinnerGap`: loading

---

## âœ… Ventajas de esta OrganizaciÃ³n

1. **Clara separaciÃ³n**: chats vs agentes
2. **Colapsable**: ahorra espacio visual
3. **Inline actions**: botones [+] y [âš™ï¸] accesibles
4. **Preview rico**: cards de agentes con descripciÃ³n
5. **Workflow guiado**: 4 pasos claros para nuevo agente
6. **Progreso visual**: progress bar + dots
7. **ValidaciÃ³n por paso**: no avanza si falta info
8. **Flexibilidad**: puede colapsar secciones que no usa

---

## ğŸ¯ Casos de Uso

### Usuario nuevo (sin agentes)
1. Ve "Agentes (0)" colapsado
2. Click [+] â†’ workflow
3. Crea primer agente paso a paso
4. Agente aparece en lista

### Usuario avanzado (muchos agentes)
1. Colapsa secciÃ³n "Agentes" si no la necesita
2. Focus en "Tus chats" expandido
3. Quick access a crear chat

### Usuario gestionando agentes
1. Expande "Agentes"
2. Hover â†’ [âš™ï¸] config
3. Edita prompts fÃ¡cilmente
4. Cambios afectan a todos los chats que usan ese agente

---

## ğŸ”® Futuro

- **Drag & drop** para reordenar agentes
- **Search** en secciÃ³n de agentes
- **Favoritos** para agentes mÃ¡s usados
- **Templates** de agentes predefinidos por industria
- **Compartir** agentes entre organizaciones
- **Duplicar** agente existente como base
- **Import/Export** de configuraciones de agentes
